/*! * H-Grid is a jQuery Based Plugin *  * Author: Himadhar H * github: https://github.com/himadhar/h-grid * * Date: 2016-05-24T12:59Z */
!function(e){"use strict";e.fn.hgrid=function(a){a=e.extend({data:[],headers:[],headerRequired:!0,footers:[],footerRequired:!0,dataOrder:[],height:"350px",width:"100%",showTitle:!0,title:"H-Grid",paginationRequired:!0,paginateForEach:10,paginateControl:"dropdown",paginateClassPrefix:"paginateController",includeSerialNumber:!0,editableTableRows:!1,editableRowData:{},tableClass:"hGridContainer",theadClass:"hGridHeaderContainer",tbodyClass:"hGridBodyContainer",tfootClass:"hGridFooterContainer",oddRowClass:"oddRow",evenRowClass:"evenRow",paginateDropdownChange:function(){},onEditComplete:function(){}},a);var t=function(){function t(){return a.data.length<=0?(console.log("Pass an array of objects to build the data"),!1):void n()}function n(){var e=a.showTitle?"<h3>"+a.title+"</h3>":"";a.paginationRequired&&a.paginateForEach<a.data.length&&(e+=s()),e+='<table class="'+a.tableClass+'">',a.headerRequired&&a.headers.length>0&&a.headers.length==f(a.data[0])&&(e+=i()),c=0,e+='<tbody class="'+a.tbodyClass+'">'+o()+"</tbody>",a.footerRequired&&a.footers.length>0&&a.footers.length==f(a.data[0])&&(e+=d()),e+="</table>",r(e)}function r(t){e(p).empty().append(t),setTimeout(function(){"dropdown"===a.paginateControl&&e("."+b).change(g),(a.editableTableRows||h())&&e(".editable-span").off().on("click",w)},10)}function i(){var e='<thead class="'+a.theadClass+'">';e+=a.includeSerialNumber?'<th class="serial-number">Sr No.</th>':"";for(var t=0;t<a.headers.length;t++)e+="<th>"+a.headers[t]+"</th>";return e+="</thead>"}function o(){var e="",t=0;t=u>1&&c+a.paginateForEach<a.data.length?a.paginateForEach:a.data.length;for(var n=0;n<a.paginateForEach;n++){if(e+='<tr id="rowIndex'+(c+1)+'">',t>c){e+=a.includeSerialNumber?'<td class="serial-number">'+(c+1)+"</td>":"";var r=a.data[c];for(var i in r)if(r.hasOwnProperty(i)){var o='<input class="editable-field" value="'+r[i]+'">',d=a.editableTableRows?o+'<span class="editable-span">'+r[i]+"</span>":"<span>"+r[i]+"</span>";d=a.editableRowData[i]&&!a.editableTableRows?o+'<span class="editable-span">'+r[i]+"</span>":"<span>"+r[i]+"</span>",e+="<td>"+d+"</td>"}}else{e+=a.includeSerialNumber?'<td class="serial-number">&nbsp;</td>':"";for(var s=0;s<a.headers.length;s++)e+="<td>&nbsp;</td>"}e+="</tr>",c++}return e}function d(){var e='<tfoot class="'+a.tfootClass+'">';e+=a.includeSerialNumber?'<td class="serial-number">&nbsp;</td>':"";for(var t=0;t<a.footers.length;t++)e+="<td>"+a.footers[t]+"</td>";return e+="</tfoot>"}function s(){var e="";return u=Math.ceil(a.data.length/a.paginateForEach),"dropdown"==a.paginateControl&&(b=a.paginateClassPrefix+"Dropdown",e=l()),e}function l(){for(var e='<select class="'+b+'">',a=1;u>=a;a++)e+='<option value="'+a+'">'+a+"</option>";return e+="</select>"}function h(){var e=!1;if(f(a.editableRowData)===a.headers.length)for(var t in a.editableRowData)if(a.editableRowData.hasOwnProperty(t)&&a.editableRowData[t]){e=!0;break}return e}function f(e){var a=0;for(var t in e)e.hasOwnProperty(t)&&a++;return a}if(0===this.length)return this;var p=this,u=0,c=0,b="";t();var g=function(t){t.preventDefault(),c=(parseInt(e(this).val())-1)*a.paginateForEach;var n=o();e(p).find("tbody").empty().append(n),a.paginateDropdownChange()},w=function(a){e(".editable-span").show(),e(".editable-field").hide(),e(this).hide(),e(this).parent().find(".editable-field").show(),e(".editable-field").off().on("blur",v)},v=function(a){e(".editable-span").show(),e(".editable-field").hide(),e(this).hide(),e(this).parent().find(".editable-span").show().text(e(this).val())}};return this.each(t)}}(jQuery);
